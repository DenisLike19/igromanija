!function(){"use strict";var e,t,i,n;if(document.addEventListener("DOMContentLoaded",()=>{$(document).on("mouseenter",".js-tilt",function(){window.innerWidth>1024&&$(this).tilt({scale:1.02,perspective:1e3,max:25})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".js-tabs");if(e){const t=e.querySelectorAll(".js-tab-link"),i=e.querySelectorAll(".js-tab-content");t.forEach(function(e,n){e.addEventListener("click",function(e){e.preventDefault(),t.forEach(function(e){e.classList.remove("_active")}),i.forEach(function(e){e.classList.remove("_active")}),this.classList.add("_active"),i[n].classList.add("_active")})})}}),$(function(){$(".marquee._left").marquee({duration:55e3,gap:0,delayBeforeStart:0,direction:"left",duplicated:!0,startVisible:!0}),$(".marquee._right").marquee({duration:55e3,gap:0,delayBeforeStart:0,direction:"right",duplicated:!0,startVisible:!0})}),$(function(){$(".custom-select._type-1").select2({minimumResultsForSearch:1/0,containerCssClass:"type-1",dropdownCssClass:"type-1"}),$(".custom-select._type-2").select2({minimumResultsForSearch:1/0,containerCssClass:"type-2",dropdownCssClass:"type-2"})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".s-popup__form").forEach(function(e){const t=e.querySelector(".agree__input"),i=e.querySelector(".s-popup__submit button"),n=e.closest(".s-popup");function o(){t.checked?i.classList.remove("_disabled"):i.classList.add("_disabled")}o(),t.addEventListener("change",function(){o()}),i.addEventListener("click",()=>{e.querySelectorAll("input, select").forEach(function(e){e.classList.remove("_error")}),e.querySelectorAll("input, select").forEach(function(e){e.hasAttribute("required")&&!e.value.trim()&&e.classList.add("_error")})}),e.addEventListener("submit",function(i){let o=!0;e.querySelectorAll("input, select").forEach(function(e){e.classList.remove("_error"),e.hasAttribute("required")&&!e.value.trim()&&(e.classList.add("_error"),o=!1)}),t&&!t.checked&&(o=!1),o?(i.preventDefault(),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),type:$(e).attr("method"),success:function(e){e.success&&n.classList.add("_success")}})):i.preventDefault()}),e.addEventListener("input",function(){e.querySelectorAll("input, select").forEach(function(e){e.classList.remove("_error"),e.hasAttribute("required")&&!e.value.trim()&&e.classList.add("_error")})})}),$("#js-prices__form").on("change",function(e){e.preventDefault();const t=$(this);console.log(t.serialize()),$.ajax({url:t.attr("action"),data:t.serialize(),type:t.attr("method"),success:function(e){if(e.success){$("#js-prices__list").html(e.data.results);t.find("select");t.find("select").each(function(){const t=$(this).attr("name");t in e.data&&(console.log("filter change "+t),$(this).html(e.data[t]).triggerHandler("change"))})}}})}),$("#schedule-filter").on("change",function(e){e.preventDefault();const t=$(this);$.ajax({url:t.attr("action"),data:t.serialize(),type:t.attr("method"),success:function(e){if(e.success){$("#schedule-posts").html(e.data.results);t.find("select");t.find("select").each(function(){const t=$(this).attr("name");t in e.data&&$(this).html(e.data[t]).triggerHandler("change")}),$("#select-tournament").html(e.data.tournament).triggerHandler("change")}}})}),$("body").on("click",".js-schedule-more",function(e){e.preventDefault(),$(this).hide(),$(".js-schedule-list").removeClass("_hidden")}),$("body").on("click",'[data-popup="tournament-popup"]',function(e){e.preventDefault(),$('#select-tournament option[value="'+$(this).data("id")+'"]').prop("selected",!0).trigger("change")})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".js-intl").forEach(e=>{const t=e.nextElementSibling;e.addEventListener("input",function(){this.value.length>10&&(this.value=this.value.slice(0,10))}),intlTelInput(e,{initialCountry:"ru",dropdownContainer:t,separateDialCode:!0,autoPlaceholder:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js"})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".preloader");if(!e)return;e.classList.add("_animated");const t=document.querySelector(".preloader__animation").shadowRoot.querySelector("svg");t&&(t.style.transform="unset")}),$(function(){$(".js-number").keypress(function(e){let t=e.which?e.which:e.keyCode;if(t>31&&(t<48||t>57))return!1}),$("body").on("change",".js-agree",function(){let e=$(this),t=e.closest(".js-form").find(".submit");e.is(":checked")?t.removeAttr("disabled"):t.attr("disabled",!0)});let e=function(){$(".js-form").each(function(){let e=$(this);e.attr("action");e.validate({focusInvalid:!1,highlight:function(e){$(e).closest(".form-field").addClass("form-field--error")},unhighlight:function(e){$(e).closest(".form-field").removeClass("form-field--error")},submitHandler:function(t,i){i.preventDefault();let n=new FormData,o=e.serializeArray();$.each(e.find(".js-input-file"),function(e,t){$.each($(t)[0].files,function(e,i){n.append(t.name,i)})}),$.each(o,function(e,t){n.append(t.name,t.value)}),n.append("key","value"),e.find("button").prop("disabled",!1),e[0].reset(),$(".popup").removeClass("is-show");let s=$(".js-select");if(s.length&&s.each(function(){$(this).val("").trigger("change")}),void 0!==e.data("thank")){let t=e.data("thank");$(t).addClass("is-show")}return $.ajax({url:e[0].action,type:"POST",processData:!1,contentType:!1,data:n,beforeSend:function(t){e.find("button").attr("disabled","disabled")},success:function(t){t.error?console.log("error"):setTimeout(function(){e.find("button").prop("disabled",!1),e[0].reset(),$(".popup").removeClass("is-show");let t=$(".js-select");if(t.length&&t.each(function(){$(this).val("").trigger("change")}),void 0!==e.data("thank")){let t=e.data("thank");$(t).addClass("is-show")}},500)},error:function(e,t,i){console.log(e.status),console.log(i)}}),!1}})})};e(),window.formValidate=e,$B.on("click","label.error",function(){$(this).hide().siblings("input,textarea").focus()}),$B.on("keyup","input",function(){$(this).siblings("label.error").hide()}),$B.on("change",".js-select",function(){console.log("rfd"),$(this).closest(".form-field").removeClass("form-field--error")}),$(".popup-thank").on("click",function(){$(this).removeClass("is-show")})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("schedule-posts");function t(e){e&&e.classList.add("_visible")}function i(e){e&&(e.classList.remove("_visible"),setTimeout(()=>{e.classList.remove("_success")},300))}function n(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}e&&e.addEventListener("click",function(e){const o=e.target;if(o.matches("[data-popup]")){e.preventDefault();const i=o.getAttribute("data-popup");t(document.getElementById(i))}if(o.matches(".js-close-popup")){i(n(o,"js-popup"))}}),document.querySelectorAll("[data-popup]").forEach(function(e){e.addEventListener("click",function(e){console.log(123123),e.preventDefault();const i=this.getAttribute("data-popup");t(document.getElementById(i))})}),document.querySelectorAll(".js-close-popup").forEach(function(e){e.addEventListener("click",function(){i(n(this,"js-popup"))})})}),document.addEventListener("DOMContentLoaded",()=>{$(".js-header-toggler").on("click",()=>{$(".js-header-toggler").toggleClass("_active"),$(".js-mobile-header").toggleClass("_opened")});const e=function(e){const t=this;if(!t.angle){const e=window.getComputedStyle(t).getPropertyValue("transform");t.angle=(e=>{if("none"===e)return 0;const t=e.match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat),i=t[0],n=t[1];return Math.atan2(n,i)*(180/Math.PI)})(e)}if("mouseleave"===e.type)t.style.cssText="";else{const{offsetX:i,offsetY:n}=e,{offsetWidth:o,offsetHeight:s}=this,a=12,r=i/o*(2*a)-a,l=n/s*(1.5*a)-a;t.style.cssText=`transform: translate(${r}px, ${l}px) rotate(${t.angle}deg);`}};document.querySelectorAll(".js-magnet").forEach(t=>{t.addEventListener("mousemove",e),t.addEventListener("mouseleave",e)});var t=document.getElementById("js-scrollUp");t.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",function(){(document.documentElement.scrollTop||0)>1.5*window.innerHeight?t.classList.remove("hidden"):t.classList.add("hidden")})}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".js-demo"),o=(document.querySelector(".demo__bg"),document.querySelectorAll(".js-decor")),s=document.querySelector(".js-person")||null,a=document.querySelectorAll(".demo__content-inner");gsap.registerPlugin(ScrollTrigger),ScrollTrigger.config({limitCallbacks:!0,ignoreMobileResize:!0});const r=document.querySelectorAll(".js-video-wrapper");if(r){const e=(i=0,n=2,Math.floor(Math.random()*(n-i+1)+i));r.forEach((t,i)=>{i!==e&&(t.style.display="none")})}if(t){gsap.to(t,{scrollTrigger:{trigger:".demo",start:"top top",end:"bottom -200%",pin:!0,onUpdate:e=>{a.forEach(e=>{e.classList.remove("_visible")}),e.progress<=.25&&a[0].classList.add("_visible"),e.progress>.25&&e.progress<=.5&&a[1].classList.add("_visible"),e.progress>.5&&e.progress<=.75&&a[2].classList.add("_visible"),e.progress>.75&&a[3].classList.add("_visible")}}}),gsap.utils.toArray(".demo__bg-line").forEach((e,t)=>{const i=e.clientHeight;gsap.to(e,{scrollTrigger:{trigger:".demo",start:"top top",end:"bottom -400%",scrub:1.1},y:-1*Math.abs(window.innerHeight-i+(t=t,window.innerWidth>1930?t%2==0?100:-200:window.innerWidth>1600?t%2==0?100:-250:window.innerWidth>767?t%2==0?0:-200:t%2==0?0:-100)+t*i*.04),ease:"none"})})}gsap.config({nullTargetWarn:!1}),o&&gsap.fromTo(o,{opacity:0,y:30},{opacity:1,y:0,stagger:.15}),s&&gsap.fromTo(s,{opacity:0,y:-1e3},{opacity:1,y:0}),gsap.fromTo(".clubs__map",{opacity:0},{opacity:1,scrollTrigger:{trigger:".clubs__map",start:"center 80%"}}),gsap.fromTo(".clubs__pins-item",{opacity:0,yPercent:-300},{opacity:1,yPercent:0,scrollTrigger:{trigger:".clubs__map",start:"center 80%",toggleActions:"play none none reverse"},stagger:.1}),document.body.className+=" "+(e=navigator.userAgent||navigator.vendor||window.opera,/windows phone/i.test(e)?"ua_WindowsPhone":/android/i.test(e)?"ua_android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ua_ios":"ua_unknown")}),window.innerWidth>999){var o=$(window).height();$(window).scroll(function(){var e=$(window).scrollTop();e>$(".header").outerHeight()?$(".header").addClass("hide"):$(".header").removeClass("hide"),e>o?$(".header").addClass("fixed"):$(".header").removeClass("fixed")})}document.addEventListener("DOMContentLoaded",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)});const t=document.querySelector(".a-top__lion");if(!t)return;function i(e,t){const i=document.getElementById(e),n=i.getAttribute("data-text");let o=0;i.textContent="",function e(){o<n.length&&(i.textContent+=n.charAt(o),o++,setTimeout(e,t))}()}ScrollTrigger.defaults({ignoreMobileResize:!0}),window.innerWidth<768&&(ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}),$(".clubs__map").length||ScrollTrigger.normalizeScroll(!0)),i("phrase_1",15);let n;(()=>{const e=document.querySelector(".page"),n=document.querySelector(".a-top"),o=document.querySelector(".a-top__phrase._1"),s=document.querySelector(".a-top__phrase._2"),a=document.querySelector(".a-top__phrase._3"),r=document.querySelector(".a-top__bg._main"),l=document.querySelector(".a-top__bg._sub"),c=document.querySelector(".a-top__announce"),d=document.querySelector(".a-top__announce-decor._1"),u=document.querySelector(".a-top__announce-decor._2"),h=document.querySelector(".a-top__announce-decor._3"),m=document.querySelector(".js-header");let p=1;gsap.fromTo(t,{scale:1,xPercent:0,yPercent:0},{scale:1,xPercent:0,yPercent:0}),gsap.to(n,{scrollTrigger:{trigger:e,start:"top top",end:"+=610%",pin:!0}}),gsap.to(t,{scrollTrigger:{trigger:n,start:"top top",end:"+=100%",scrub:.2,onUpdate:e=>{e.progress>.5?2!==p&&(p=2,o.classList.remove("_visible"),s.classList.add("_visible"),a.classList.remove("_visible"),i("phrase_2",15)):1!==p&&(p=1,o.classList.add("_visible"),s.classList.remove("_visible"),a.classList.remove("_visible"),i("phrase_1",15))}},scale:1.5,xPercent:()=>window.innerWidth>1279?-5:0,yPercent:()=>window.innerWidth>1599?33:window.innerWidth>1279?36:25}),gsap.fromTo(t,{scale:1.5,xPercent:()=>window.innerWidth>1279?-5:0,yPercent:()=>window.innerWidth>1599?33:window.innerWidth>1279?36:25},{scrollTrigger:{trigger:n,start:"+=150%",end:"+=100%",scrub:.2,onUpdate:e=>{e.progress>.3?3!==p&&(p=3,o.classList.remove("_visible"),s.classList.remove("_visible"),a.classList.add("_visible"),i("phrase_3",15),r.classList.add("_visible"),l.classList.remove("_visible")):2!==p&&(p=2,o.classList.remove("_visible"),s.classList.add("_visible"),a.classList.remove("_visible"),i("phrase_2",15))}},scale:1,xPercent:()=>window.innerWidth>1599?-45:window.innerWidth>1279?-64:0,yPercent:()=>window.innerWidth>1599?32:window.innerWidth>1279?32:-12}),gsap.fromTo(t,{scale:1,xPercent:()=>window.innerWidth>1599?-45:window.innerWidth>1279?-64:0,yPercent:()=>window.innerWidth>1599?32:window.innerWidth>1279?32:-12},{scrollTrigger:{trigger:n,start:"+=300%",end:"+=100%",scrub:.2,onUpdate:e=>{e.progress>.05?4!==p&&(p=4,o.classList.remove("_visible"),s.classList.remove("_visible"),a.classList.remove("_visible"),r.classList.remove("_visible"),l.classList.add("_visible"),m.classList.add("_about-hidden")):3!==p&&(p=3,o.classList.remove("_visible"),s.classList.remove("_visible"),a.classList.add("_visible"),i("phrase_3",15),r.classList.add("_visible"),l.classList.remove("_visible"),m.classList.remove("_about-hidden"))}},scale:1,xPercent:()=>window.innerWidth>1599?-45:window.innerWidth>1279?-64:0,yPercent:()=>window.innerWidth<768?-30:-12}),gsap.fromTo(t,{scale:1,xPercent:()=>window.innerWidth>1599?-45:window.innerWidth>1279?-64:0,yPercent:-3},{scrollTrigger:{trigger:n,start:"+=450%",end:"+=60%",scrub:.2},opacity:0,scale:.7}),gsap.fromTo(c,{scale:.5,opacity:0},{scrollTrigger:{trigger:n,start:"+=450%",end:"+=60%",scrub:.2},opacity:1,scale:1}),gsap.fromTo(d,{rotate:80,scale:.8,opacity:1},{scrollTrigger:{trigger:n,start:"+=450%",end:"+=100%",scrub:2},rotate:0,opacity:1,scale:1}),gsap.fromTo(u,{rotate:-80,scale:.9,opacity:1},{scrollTrigger:{trigger:n,start:"+=450%",end:"+=100%",scrub:2},rotate:0,opacity:1,scale:1}),gsap.fromTo(h,{rotate:80,scale:.9,opacity:1},{scrollTrigger:{trigger:n,start:"+=450%",end:"+=100%",scrub:2},rotate:0,opacity:1,scale:1});const f=document.querySelector(".team__bg");gsap.utils.toArray(".team__bg-pic").forEach(function(e){gsap.to(e,{scrollTrigger:{trigger:".team",start:"top -550%",end:"bottom -650%",scrub:1.1},y:-f.offsetHeight/2.2,rotation:gsap.utils.random(-80,70),ease:"power2.out"})})})(),window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{ScrollTrigger.getAll().forEach(e=>{e.refresh()})},400)})}),"undefined"!=typeof ymaps&&ymaps.ready(function(){const e=document.querySelector("#main-map");if(!e)return;const t=document.querySelector("#decor-map"),i=document.querySelector(".clubs__mapWrap"),n=new ymaps.Map("map",{center:[55.76,37.64],zoom:5,controls:[]});n.behaviors.disable("scrollZoom"),window.innerWidth<1024&&n.behaviors.disable("drag");const o=document.getElementById("map").offsetHeight,s=new ymaps.control.ZoomControl({options:{size:"small",position:{left:window.innerWidth>767?30:20,top:o/2-30+"px",bottom:"auto",transform:"translateY(-50%)"}}});n.controls.add(s);let a=new ymaps.GeoObjectCollection;for(let e in kiberpride_map_data.clubs){let t=kiberpride_map_data.clubs[e],i=t.url,o=t.id,s=t.address,r=t.metro,l=t.metro_icon_color,c=t.phone,d=(t.vk,"");d=void 0!==r?'<div class="marBalloon__metro"><span><svg width="20" height="12" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 11.078V12H6.77532V11.078H5.34239L7.02238 7.5716L9.6 11.986L12.1941 7.5716L13.8576 11.078H12.4247V12H19.2V11.078H18.4035L13.1494 0L9.6 6.25844L6.06709 0L0.796544 11.078H0Z" fill="'+l+'"/></svg></span>'+r+'</div><div class="marBalloon__phone"><a href="tel:'+c+'">'+c+"</a></div>":'<div class="marBalloon__phone"><a href="tel:'+c+'">'+c+"</a></div>";let u=new ymaps.Placemark(t.coords,{id:o,balloonContentHeader:s,balloonContentBody:d,balloonContentFooter:'<a class="btn _orange _compact" href="'+i+'" target="_blank"><span>Страница клуба</span></a>',hintContent:e},{iconLayout:"default#image",hideIconOnBalloonOpen:!1,iconImageHref:kiberpride_map_data.iconImageHref,iconImageSize:[70,70],iconImageOffset:[-35,-35],balloonOffset:[-150,0]});u.events.add("click",function(e){let t=e.get("target").properties.get("id"),i=e.get("target").geometry.getCoordinates();const o=document.getElementById(t);if(o.classList.add("_active"),window.innerWidth>767){let e=o.offsetTop;console.log(e),document.querySelector(".clubs__main-clubs._active").scrollTop=e}n.setCenter(i,15,{duration:0,timingFunction:"ease-in-out"})}),a.add(u)}function r(e){let t=kiberpride_map_data.regions[e];t&&l(t,10)}function l(e,t){n.setCenter(e,t,{duration:1e3,timingFunction:"ease-in-out"})}n.geoObjects.add(a),n.geoObjects.events.add("balloonclose",function(e){document.querySelectorAll(".clubs__main-clubs-card._active").forEach(function(e){e.classList.remove("_active")})}),document.querySelectorAll(".clubs__main-closer").forEach(function(n){n.addEventListener("click",function(){t.classList.remove("_hidden"),i.classList.remove("_hidden"),e.classList.remove("_visible")})}),$("#clubs__selectCity").length&&$("#clubs__selectCity").on("select2:selecting",function(o){let s=o.params.args.data.id;t.classList.add("_hidden"),i.classList.add("_hidden"),e.classList.add("_visible"),r(o.params.args.data.id),n.balloon.close(),document.querySelectorAll(".clubs__main-regions-item").forEach(e=>{e.classList.remove("_checked"),e.dataset.region===s&&e.textContent.length&&(e.classList.add("_checked"),document.querySelector(".js-checked-region").textContent=e.textContent)}),window.innerWidth>767&&document.querySelectorAll(".clubs__main-clubs").forEach(e=>{e.dataset.clubsRegion===s?(e.style.display="block",e.classList.add("_active")):(e.style.display="none",e.classList.remove("_active"))});const a=document.querySelectorAll(".clubs__main-regions"),l=document.querySelectorAll(".clubs__main-clubs");a.forEach(e=>{e.classList.add("_hidden")}),l.forEach(e=>{e.classList.remove("_hidden")}),document.querySelector(".js-checked-region").classList.add("_active")}),document.querySelectorAll(".js-showAllRegions").forEach(function(n){n.addEventListener("click",function(){let n=this.dataset.region;t.classList.add("_hidden"),i.classList.add("_hidden"),e.classList.add("_visible"),r("Москва"),document.querySelectorAll(".clubs__main-regions-item").forEach(e=>{e.classList.remove("_checked"),e.dataset.region===n&&e.textContent.length&&(e.classList.add("_checked"),document.querySelector(".js-checked-region").textContent=e.textContent)}),window.innerWidth>767&&document.querySelectorAll(".clubs__main-clubs").forEach(e=>{e.style.display="none"});const o=document.querySelectorAll(".clubs__main-regions"),s=document.querySelectorAll(".clubs__main-clubs");o.forEach(e=>{e.classList.remove("_hidden")}),s.forEach(e=>{e.classList.remove("_hidden")}),document.querySelector(".js-checked-region").classList.remove("_active")})}),document.querySelectorAll("[data-region]").forEach(function(o){o.addEventListener("click",function(){let o=this.dataset.region;t.classList.add("_hidden"),i.classList.add("_hidden"),e.classList.add("_visible"),r(o),n.balloon.close(),document.querySelectorAll(".clubs__main-regions-item").forEach(e=>{e.classList.remove("_checked"),e.dataset.region===o&&e.textContent.length&&(e.classList.add("_checked"),document.querySelector(".js-checked-region").textContent=e.textContent)}),window.innerWidth>767&&document.querySelectorAll(".clubs__main-clubs").forEach(e=>{e.dataset.clubsRegion===o?(e.style.display="block",e.classList.add("_active")):(e.style.display="none",e.classList.remove("_active"))});const s=document.querySelectorAll(".clubs__main-regions"),a=document.querySelectorAll(".clubs__main-clubs");s.forEach(e=>{e.classList.add("_hidden")}),a.forEach(e=>{e.classList.remove("_hidden")}),document.querySelector(".js-checked-region").classList.add("_active")})}),document.querySelectorAll("[data-club]").forEach(function(e){e.addEventListener("click",function(){!function(e){l(kiberpride_map_data.clubs[e],10)}(this.dataset.club)})}),document.querySelectorAll(".clubs__main-regions-item").forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll(".clubs__main-regions-item").forEach(function(e){e.classList.remove("_checked")}),this.classList.add("_checked")})}),document.querySelector(".js-checked-region").addEventListener("click",function(){const e=document.querySelectorAll(".clubs__main-regions"),t=document.querySelectorAll(".clubs__main-clubs");e.forEach(e=>{e.classList.toggle("_hidden")}),t.forEach(e=>{e.classList.toggle("_hidden")}),document.querySelector(".js-checked-region").classList.toggle("_active")}),document.querySelectorAll(".clubs__main-clubs-card-name").forEach(e=>{e.addEventListener("click",function(t){let i=e.dataset.coordx,o=e.dataset.coordy;n.setCenter([i,o],15,{duration:0,timingFunction:"ease-in-out"});let s=this;ymaps.geoQuery(a).getCentralObject(n).balloon.open(),setTimeout(function(){s.parentNode.classList.add("_active")},50)})})}),"undefined"!=typeof ymaps&&ymaps.ready(function(){if(!document.querySelector("#main-map-city"))return;const e=new ymaps.Map("map",{center:kiberpride_map_data.center,zoom:10,controls:[]});e.behaviors.disable("scrollZoom"),window.innerWidth<1024&&e.behaviors.disable("drag");const t=document.getElementById("map").offsetHeight,i=new ymaps.control.ZoomControl({options:{size:"small",position:{left:window.innerWidth>767?30:20,top:t/2-30+"px",bottom:"auto",transform:"translateY(-50%)"}}});e.controls.add(i);let n=new ymaps.GeoObjectCollection;for(let t in kiberpride_map_data.clubs){let i=kiberpride_map_data.clubs[t],o=i.url,s=i.id,a=i.address,r=i.metro,l=i.metro_icon_color,c=i.phone,d=(i.vk,"");d=void 0!==r?'<div class="marBalloon__metro"><span><svg width="20" height="12" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 11.078V12H6.77532V11.078H5.34239L7.02238 7.5716L9.6 11.986L12.1941 7.5716L13.8576 11.078H12.4247V12H19.2V11.078H18.4035L13.1494 0L9.6 6.25844L6.06709 0L0.796544 11.078H0Z" fill="'+l+'"/></svg></span>'+r+'</div><div class="marBalloon__phone"><a href="tel:'+c+'">'+c+"</a></div>":'<div class="marBalloon__phone"><a href="tel:'+c+'">'+c+"</a></div>";let u=new ymaps.Placemark(i.coords,{id:s,balloonContentHeader:a,balloonContentBody:d,balloonContentFooter:'<a class="btn _orange _compact" href="'+o+'" target="_blank"><span>Страница клуба</span></a>',hintContent:t},{iconLayout:"default#image",hideIconOnBalloonOpen:!1,iconImageHref:kiberpride_map_data.iconImageHref,iconImageSize:[70,70],iconImageOffset:[-35,-35],balloonOffset:[-150,0]});u.events.add("click",function(t){let i=t.get("target").properties.get("id"),n=t.get("target").geometry.getCoordinates();const o=document.getElementById(i);if(o.classList.add("_active"),window.innerWidth>767){let e=o.offsetTop;console.log(e),document.querySelector(".clubs__main-clubs._active").scrollTop=e}e.setCenter(n,15,{duration:0,timingFunction:"ease-in-out"})}),n.add(u)}e.geoObjects.events.add("balloonclose",function(e){document.querySelectorAll(".clubs__main-clubs-card._active").forEach(function(e){e.classList.remove("_active")})}),document.querySelector(".js-checked-region").addEventListener("click",function(){document.querySelectorAll(".clubs__main-clubs").forEach(e=>{e.classList.toggle("_hidden")}),document.querySelector(".js-checked-region").classList.toggle("_active")}),e.geoObjects.add(n),document.querySelectorAll(".clubs__main-clubs-card-name").forEach(t=>{t.addEventListener("click",function(i){let o=t.dataset.coordx,s=t.dataset.coordy;e.setCenter([o,s],15,{duration:0,timingFunction:"ease-in-out"});let a=this;ymaps.geoQuery(n).getCentralObject(e).balloon.open(),setTimeout(function(){a.parentNode.classList.add("_active")},50)})})}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector("#map-detail")&&"undefined"!=typeof ymaps){ymaps.ready(function(){var e=new ymaps.Map("map-detail",{center:[55.7558,37.6176],zoom:16,controls:[]}),t=new ymaps.Placemark(e.getCenter(),{hintContent:"Клуб "},{iconLayout:"default#image",iconImageHref:"images/map-pin.png",iconImageSize:[70,70],iconImageOffset:[-35,-35]});e.geoObjects.add(t)})}}),document.addEventListener("DOMContentLoaded",()=>{new Swiper(".js-rev-slider",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:190,centeredSlides:!0,speed:650,loop:!0,pagination:{el:".reviews__slider-dots",clickable:!0},navigation:{nextEl:".reviews__slider-arr._next",prevEl:".reviews__slider-arr._prev"},breakpoints:{1600:{slidesPerView:1}}}),new Swiper(".js-art-slider",{centeredSlides:!0,speed:650,loop:!0,pagination:{el:".articles__slider-dots",clickable:!0},navigation:{nextEl:".articles__slider-arr._next",prevEl:".articles__slider-arr._prev"},breakpoints:{767:{spaceBetween:15,slidesPerView:1},1599:{spaceBetween:167,slidesPerView:1},3000:{spaceBetween:180,slidesPerView:"auto"}}})}),document.addEventListener("DOMContentLoaded",()=>{new Swiper(".js-h-slider",{observer:!0,observeParents:!0,slidesPerView:1,speed:650,loop:!0,navigation:{nextEl:".h-slider__arrows-item._next",prevEl:".h-slider__arrows-item._prev"},breakpoints:{767:{spaceBetween:25},1279:{spaceBetween:140},1600:{spaceBetween:210},3000:{spaceBetween:290}}})}),document.addEventListener("DOMContentLoaded",()=>{Fancybox.bind("[data-fancybox]")}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("scene");e&&new Parallax(e);const t=document.querySelectorAll(".js-parallax");t.length&&t.forEach(e=>{new Parallax(e)})});var s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":a(module))&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){return e.fn.tilt=function(t){var i=function(){this.ticking||(requestAnimationFrame(c.bind(this)),this.ticking=!0)},n=function(){var t=this;void 0!==this.timeout&&clearTimeout(this.timeout),e(this).css({transition:this.settings.speed+"ms "+this.settings.easing}),this.settings.glare&&this.glareElement.css({transition:"opacity "+this.settings.speed+"ms "+this.settings.easing}),this.timeout=setTimeout(function(){e(t).css({transition:""}),t.settings.glare&&t.glareElement.css({transition:""})},this.settings.speed)},o=function(t){this.ticking=!1,e(this).css({"will-change":"transform"}),n.call(this),e(this).trigger("tilt.mouseEnter")},s=function(t){return void 0===t&&(t={pageX:e(this).offset().left+e(this).outerWidth()/2,pageY:e(this).offset().top+e(this).outerHeight()/2}),{x:t.pageX,y:t.pageY}},a=function(e){this.mousePositions=s(e),i.call(this)},r=function(){n.call(this),this.reset=!0,i.call(this),e(this).trigger("tilt.mouseLeave")},l=function(){var t=e(this).outerWidth(),i=e(this).outerHeight(),n=e(this).offset().left,o=e(this).offset().top,s=(this.mousePositions.x-n)/t,a=(this.mousePositions.y-o)/i;return{tiltX:(this.settings.maxTilt/2-s*this.settings.maxTilt).toFixed(2),tiltY:(a*this.settings.maxTilt-this.settings.maxTilt/2).toFixed(2),percentageX:100*s,percentageY:100*a,angle:Math.atan2(this.mousePositions.x-(n+t/2),-(this.mousePositions.y-(o+i/2)))*(180/Math.PI)}},c=function(){return this.transforms=l.call(this),this.reset?(this.reset=!1,e(this).css("transform","perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg)"),void(this.settings.glare&&(this.glareElement.css("transform","rotate(180deg) translate(-50%, -50%)"),this.glareElement.css("opacity","0")))):(e(this).css("transform","perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:this.transforms.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:this.transforms.tiltX)+"deg) scale3d("+this.settings.scale+","+this.settings.scale+","+this.settings.scale+")"),this.settings.glare&&(this.glareElement.css("transform","rotate("+this.transforms.angle+"deg) translate(-50%, -50%)"),this.glareElement.css("opacity",""+this.transforms.percentageY*this.settings.maxGlare/100)),e(this).trigger("change",[this.transforms]),void(this.ticking=!1))},d=function(){this.glareElement.css({width:""+2*e(this).outerWidth(),height:""+2*e(this).outerWidth()})};return e.fn.tilt.destroy=function(){e(this).each(function(){e(this).find(".js-tilt-glare").remove(),e(this).css({"will-change":"",transform:""}),e(this).off("mousemove mouseenter mouseleave")})},e.fn.tilt.getValues=function(){var t=[];return e(this).each(function(){this.mousePositions=s.call(this),t.push(l.call(this))}),t},e.fn.tilt.reset=function(){e(this).each(function(){var t=this;this.mousePositions=s.call(this),this.settings=e(this).data("settings"),r.call(this),setTimeout(function(){t.reset=!1},this.settings.transition)})},this.each(function(){var i=this;this.settings=e.extend({maxTilt:e(this).is("[data-tilt-max]")?e(this).data("tilt-max"):20,perspective:e(this).is("[data-tilt-perspective]")?e(this).data("tilt-perspective"):300,easing:e(this).is("[data-tilt-easing]")?e(this).data("tilt-easing"):"cubic-bezier(.03,.98,.52,.99)",scale:e(this).is("[data-tilt-scale]")?e(this).data("tilt-scale"):"1",speed:e(this).is("[data-tilt-speed]")?e(this).data("tilt-speed"):"400",transition:!e(this).is("[data-tilt-transition]")||e(this).data("tilt-transition"),axis:e(this).is("[data-tilt-axis]")?e(this).data("tilt-axis"):null,reset:!e(this).is("[data-tilt-reset]")||e(this).data("tilt-reset"),glare:!!e(this).is("[data-tilt-glare]")&&e(this).data("tilt-glare"),maxGlare:e(this).is("[data-tilt-maxglare]")?e(this).data("tilt-maxglare"):1},t),this.init=function(){e(i).data("settings",i.settings),i.settings.glare&&function(){var t=this.settings.glarePrerender;t||e(this).append('<div class="js-tilt-glare"><div class="js-tilt-glare-inner"></div></div>'),this.glareElementWrapper=e(this).find(".js-tilt-glare"),this.glareElement=e(this).find(".js-tilt-glare-inner"),t||(this.glareElementWrapper.css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}).css({overflow:"hidden"}),this.glareElement.css({position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:""+2*e(this).outerWidth(),height:""+2*e(this).outerWidth(),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}.call(i),function(){e(this).on("mousemove",a),e(this).on("mouseenter",o),this.settings.reset&&e(this).on("mouseleave",r),this.settings.glare&&e(window).on("resize",d.bind(this))}.call(i)},this.init()})},e("[data-tilt]").tilt(),!0}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).MagnetMouse=t()}(void 0,function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e,t){var i=Object.keys(e);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(e)),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(o,!0).forEach(function(i){t(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i={element:".magnet-mouse",class:"magnet-mouse-active",enabled:!0,distance:30,position:"center"},o={element:".follow-mouse",class:"follow-mouse-active"},s={follow:o,magnet:i,throttle:5,inCallback:null,outCallback:null};this.config=n({},s,{},e,{magnet:n({},i,{},e.magnet),follow:n({},o,{},e.follow)}),this.elementMagnet=document.querySelectorAll(this.config.magnet.element),this.elementFollow=document.querySelectorAll(this.config.follow.element)}var i,o,s;return i=t,s=[{key:"throttle",value:function(e,t){var i,n;return function(){var o=this,s=+new Date,a=arguments;i&&s<i+t?(clearTimeout(n),n=setTimeout(function(){i=s,e.apply(o,a)},t)):(i=s,e.apply(o,a))}}},{key:"mobileAndTabletcheck",value:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}}],(o=[{key:"getMousePosition",value:function(e){return{x:e.pageX,y:e.pageY}}},{key:"getElementsPosition",value:function(){for(var e=[],t=0;t<this.elementMagnet.length;t++){var i=this.elementMagnet[t].getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;e.push({elem:{node:this.elementMagnet[t],width:i.width,height:i.height},xMin:i.left+n-this.config.magnet.distance,xMax:i.left+n+i.width+this.config.magnet.distance,yMin:i.top+o-this.config.magnet.distance,yMax:i.top+o+i.height+this.config.magnet.distance})}return e}},{key:"getPosition",value:function(e,t){var i,n;switch(this.config.magnet.position){case"top-left":i=t.x-(e.xMin+this.config.magnet.distance),n=t.y-(e.yMin+this.config.magnet.distance);break;case"top-right":i=t.x-(e.xMin+e.elem.width+this.config.magnet.distance),n=t.y-(e.yMin+this.config.magnet.distance);break;case"bottom-left":i=t.x-(e.xMin+this.config.magnet.distance),n=t.y-(e.yMin+e.elem.height+this.config.magnet.distance);break;case"bottom-right":i=t.x-(e.xMin+e.elem.width+this.config.magnet.distance),n=t.y-(e.yMin+e.elem.height+this.config.magnet.distance);break;case"top-center":i=t.x-(e.xMin+this.config.magnet.distance+e.elem.width/2),n=t.y-(e.yMin+this.config.magnet.distance);break;case"bottom-center":i=t.x-(e.xMin+this.config.magnet.distance+e.elem.width/2),n=t.y-(e.yMin+e.elem.height+this.config.magnet.distance);break;default:i=t.x-(e.xMin+this.config.magnet.distance+e.elem.width/2),n=t.y-(e.yMin+this.config.magnet.distance+e.elem.height/2)}return{x:i,y:n}}},{key:"defaultAction",value:function(e,t,i){if("onEnter"===e){if(this.elementFollow.length>0)for(var n=0;n<this.elementFollow.length;n++)this.elementFollow[n].classList.add(this.config.follow.class);i.elem.node.style.transform="translate3d("+t.x+"px,"+t.y+"px, 0)",i.elem.node.classList.add(this.config.magnet.class)}else if("onLeave"===e){if(this.elementFollow.length>0)for(var o=0;o<this.elementFollow.length;o++)this.elementFollow[o].classList.remove(this.config.follow.class);i.elem.node.style.transform="",i.elem.node.classList.remove(this.config.magnet.class)}}},{key:"magnetElement",value:function(e,t){for(var i=0;i<e.length;i++){var n=this.getPosition(e[i],t);if(e[i].xMin<t.x&&e[i].xMax>t.x&&e[i].yMin<t.y&&e[i].yMax>t.y){this.defaultAction("onEnter",n,e[i]),null!==this.config.inCallback&&"function"==typeof this.config.inCallback&&this.config.inCallback.call(this,e[i]);break}this.defaultAction("onLeave",n,e[i]),null!==this.config.outCallback&&"function"==typeof this.config.outCallback&&this.config.outCallback.call(this,e[i])}}},{key:"hoverElement",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i].elem.node;e[i].xMin<t.x&&e[i].xMax>t.x&&e[i].yMin<t.y&&e[i].yMax>t.y?n.classList.add(this.config.magnet.class):n.classList.remove(this.config.magnet.class)}}},{key:"init",value:function(){var e,i,n=this;if(t.mobileAndTabletcheck())for(var o=0;o<this.elementFollow.length;o++)this.elementFollow[o].remove();else this.resizeFunction=t.throttle(function(){i=n.getElementsPosition()},this.config.throttle),this.mouseFunction=t.throttle(function(t){if(e=n.getMousePosition(t),n.config.magnet.enabled?n.magnetElement(i,e):n.hoverElement(i,e),n.elementFollow.length>0)for(var o=0;o<n.elementFollow.length;o++)n.elementFollow[o].style.transform="translate3d("+(e.x-window.pageXOffset)+"px,"+(e.y-window.pageYOffset)+"px, 0)"},this.config.throttle),window.addEventListener("resize",this.resizeFunction),document.addEventListener("DOMContentLoaded",function(){i=n.getElementsPosition()}),window.addEventListener("mousemove",this.mouseFunction)}},{key:"destroy",value:function(){window.removeEventListener("mousemove",this.mouseFunction),window.removeEventListener("resize",this.resizeFunction);for(var e=0;e<this.elementMagnet.length;e++)this.elementMagnet[e].classList.remove(this.config.magnet.class),this.elementMagnet[e].style.transform="";for(var t=0;t<this.elementFollow.length;t++)this.elementFollow[t].style.opacity=0}}])&&e(i.prototype,o),s&&e(i,s),t}()}),s=function(e){e.fn.marquee=function(t){return this.each(function(){var i,n,o,s,a,r=e.extend({},e.fn.marquee.defaults,t),l=e(this),c=3,d="animation-play-state",u=!1,h=function(e,t,i){for(var n=["webkit","moz","MS","o",""],o=0;o<n.length;o++)n[o]||(t=t.toLowerCase()),e.addEventListener(n[o]+t,i,!1)},m=function(){l.timer=setTimeout(T,r.delayBeforeStart)},p={pause:function(){u&&r.allowCss3Support?i.css(d,"paused"):e.fn.pause&&i.pause(),l.data("runningStatus","paused"),l.trigger("paused")},resume:function(){u&&r.allowCss3Support?i.css(d,"running"):e.fn.resume&&i.resume(),l.data("runningStatus","resumed"),l.trigger("resumed")},toggle:function(){p["resumed"===l.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(l.timer),l.find("*").addBack().off(),l.html(l.find(".js-marquee:first").html())}};if("string"!=typeof t){var f;e.each(r,function(e){if(void 0!==(f=l.attr("data-"+e))){switch(f){case"true":f=!0;break;case"false":f=!1}r[e]=f}}),r.speed&&(r.duration=parseInt(l.width(),10)/r.speed*1e3),s="up"===r.direction||"down"===r.direction,r.gap=r.duplicated?parseInt(r.gap):0,l.wrapInner('<div class="js-marquee"></div>');var g=l.find(".js-marquee").css({"margin-right":r.gap,float:"left"});if(r.duplicated&&g.clone(!0).appendTo(l),l.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),i=l.find(".js-marquee-wrapper"),s){var v=l.height();i.removeAttr("style"),l.height(v),l.find(".js-marquee").css({float:"none","margin-bottom":r.gap,"margin-right":0}),r.duplicated&&l.find(".js-marquee:last").css({"margin-bottom":0});var y=l.find(".js-marquee:first").height()+r.gap;r.startVisible&&!r.duplicated?(r._completeDuration=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)*r.duration,r.duration=parseInt(y,10)/parseInt(v,10)*r.duration):r.duration=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)*r.duration}else a=l.find(".js-marquee:first").width()+r.gap,n=l.width(),r.startVisible&&!r.duplicated?(r._completeDuration=(parseInt(a,10)+parseInt(n,10))/parseInt(n,10)*r.duration,r.duration=parseInt(a,10)/parseInt(n,10)*r.duration):r.duration=(parseInt(a,10)+parseInt(n,10))/parseInt(n,10)*r.duration;if(r.duplicated&&(r.duration=r.duration/2),r.allowCss3Support){var w=document.body||document.createElement("div"),b="marqueeAnimation-"+Math.floor(1e7*Math.random()),_="Webkit Moz O ms Khtml".split(" "),x="animation",L="",E="";if(void 0!==w.style.animation&&(E="@keyframes "+b+" ",u=!0),!1===u)for(var S=0;S<_.length;S++)if(void 0!==w.style[_[S]+"AnimationName"]){var k="-"+_[S].toLowerCase()+"-";x=k+x,d=k+d,E="@"+k+"keyframes "+b+" ",u=!0;break}u&&(L=b+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s infinite "+r.css3easing,l.data("css3AnimationIsSupported",!0))}var C=function(){i.css("transform","translateY("+("up"===r.direction?v+"px":"-"+y+"px")+")")},q=function(){i.css("transform","translateX("+("left"===r.direction?n+"px":"-"+a+"px")+")")};r.duplicated?(s?r.startVisible?i.css("transform","translateY(0)"):i.css("transform","translateY("+("up"===r.direction?v+"px":"-"+(2*y-r.gap)+"px")+")"):r.startVisible?i.css("transform","translateX(0)"):i.css("transform","translateX("+("left"===r.direction?n+"px":"-"+(2*a-r.gap)+"px")+")"),r.startVisible||(c=1)):r.startVisible?c=2:s?C():q();var T=function(){if(r.duplicated&&(1===c?(r._originalDuration=r.duration,r.duration=s?"up"===r.direction?r.duration+v/(y/r.duration):2*r.duration:"left"===r.direction?r.duration+n/(a/r.duration):2*r.duration,L&&(L=b+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s "+r.css3easing),c++):2===c&&(r.duration=r._originalDuration,L&&(b+="0",E=e.trim(E)+"0 ",L=b+" "+r.duration/1e3+"s 0s infinite "+r.css3easing),c++)),s?r.duplicated?(c>2&&i.css("transform","translateY("+("up"===r.direction?0:"-"+y+"px")+")"),o={transform:"translateY("+("up"===r.direction?"-"+y+"px":0)+")"}):r.startVisible?2===c?(L&&(L=b+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s "+r.css3easing),o={transform:"translateY("+("up"===r.direction?"-"+y+"px":v+"px")+")"},c++):3===c&&(r.duration=r._completeDuration,L&&(b+="0",E=e.trim(E)+"0 ",L=b+" "+r.duration/1e3+"s 0s infinite "+r.css3easing),C()):(C(),o={transform:"translateY("+("up"===r.direction?"-"+i.height()+"px":v+"px")+")"}):r.duplicated?(c>2&&i.css("transform","translateX("+("left"===r.direction?0:"-"+a+"px")+")"),o={transform:"translateX("+("left"===r.direction?"-"+a+"px":0)+")"}):r.startVisible?2===c?(L&&(L=b+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s "+r.css3easing),o={transform:"translateX("+("left"===r.direction?"-"+a+"px":n+"px")+")"},c++):3===c&&(r.duration=r._completeDuration,L&&(b+="0",E=e.trim(E)+"0 ",L=b+" "+r.duration/1e3+"s 0s infinite "+r.css3easing),q()):(q(),o={transform:"translateX("+("left"===r.direction?"-"+a+"px":n+"px")+")"}),l.trigger("beforeStarting"),u){i.css(x,L);var t=E+" { 100%  "+function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+":"+e[i]);return t.push(),"{"+t.join(",")+"}"}(o)+"}",d=i.find("style");0!==d.length?d.filter(":last").html(t):e("head").append("<style>"+t+"</style>"),h(i[0],"AnimationIteration",function(){l.trigger("finished")}),h(i[0],"AnimationEnd",function(){T(),l.trigger("finished")})}else i.animate(o,r.duration,r.easing,function(){l.trigger("finished"),r.pauseOnCycle?m():T()});l.data("runningStatus","resumed")};l.on("pause",p.pause),l.on("resume",p.resume),r.pauseOnHover&&(l.on("mouseenter",p.pause),l.on("mouseleave",p.resume)),u&&r.allowCss3Support?T():m()}else e.isFunction(p[t])&&(i||(i=l.find(".js-marquee-wrapper")),!0===l.data("css3AnimationIsSupported")&&(u=!0),p[t]())})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}},"function"==typeof define&&define.amd?define(["jquery"],s):"undefined"!=typeof exports?module.exports=s(require("jquery")):s(jQuery),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Parallax=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return o(i||e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,a,r=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))o.call(i,c)&&(r[c]=i[c]);if(n){a=n(i);for(var d=0;d<a.length;d++)s.call(i,a[d])&&(r[a[d]]=i[a[d]])}}return r}},{}],2:[function(e,t,i){(function(e){(function(){var i,n,o,s,a,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(i()-a)/1e6},n=e.hrtime,s=(i=function(){var e;return 1e9*(e=n())[0]+e[1]})(),r=1e9*e.uptime(),a=s-r):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,t,i){var n,o,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(e){o=r}}();var c,d=[],u=!1,h=-1;function m(){u&&c&&(u=!1,c.length?d=c.concat(d):h=-1,d.length&&p())}function p(){if(!u){var e=l(m);u=!0;for(var t=d.length;t;){for(c=d,d=[];++h<t;)c&&c[h].run();h=-1,t=d.length}c=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new f(e,t)),1!==d.length||u||l(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],4:[function(e,t,i){(function(i){for(var n=e("performance-now"),o="undefined"==typeof window?i:window,s=["moz","webkit"],a="AnimationFrame",r=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],c=0;!r&&c<s.length;c++)r=o[s[c]+"Request"+a],l=o[s[c]+"Cancel"+a]||o[s[c]+"CancelRequest"+a];if(!r||!l){var d=0,u=0,h=[];r=function(e){if(0===h.length){var t=n(),i=Math.max(0,1e3/60-(t-d));d=i+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout(function(){throw e},0)}},Math.round(i))}return h.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}t.exports=function(e){return r.call(o,e)},t.exports.cancel=function(){l.apply(o,arguments)},t.exports.polyfill=function(){o.requestAnimationFrame=r,o.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o=e("raf"),s=e("object-assign"),a={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(e,t,i){return t<i?e<t?t:e>i?i:e:e<i?i:e>t?t:e},data:function(e,t){return a.deserialize(e.getAttribute("data-"+t))},deserialize:function(e){return"true"===e||"false"!==e&&("null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e)},camelCase:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},accelerate:function(e){a.css(e,"transform","translate3d(0,0,0) rotate(0.0001deg)"),a.css(e,"transform-style","preserve-3d"),a.css(e,"backface-visibility","hidden")},transformSupport:function(e){for(var t=document.createElement("div"),i=!1,n=null,o=!1,s=null,r=null,l=0,c=a.vendors.length;l<c;l++)if(null!==a.vendors[l]?(s=a.vendors[l][0]+"transform",r=a.vendors[l][1]+"Transform"):(s="transform",r="transform"),void 0!==t.style[r]){i=!0;break}switch(e){case"2D":o=i;break;case"3D":if(i){var d=document.body||document.createElement("body"),u=document.documentElement,h=u.style.overflow,m=!1;document.body||(m=!0,u.style.overflow="hidden",u.appendChild(d),d.style.overflow="hidden",d.style.background=""),d.appendChild(t),t.style[r]="translate3d(1px,1px,1px)",o=void 0!==(n=window.getComputedStyle(t).getPropertyValue(s))&&n.length>0&&"none"!==n,u.style.overflow=h,d.removeChild(t),m&&(d.removeAttribute("style"),d.parentNode.removeChild(d))}}return o},css:function(e,t,i){var n=a.propertyCache[t];if(!n)for(var o=0,s=a.vendors.length;o<s;o++)if(n=null!==a.vendors[o]?a.camelCase(a.vendors[o][1]+"-"+t):t,void 0!==e.style[n]){a.propertyCache[t]=n;break}e.style[n]=i}},r={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},l=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t;var n={calibrateX:a.data(this.element,"calibrate-x"),calibrateY:a.data(this.element,"calibrate-y"),invertX:a.data(this.element,"invert-x"),invertY:a.data(this.element,"invert-y"),limitX:a.data(this.element,"limit-x"),limitY:a.data(this.element,"limit-y"),scalarX:a.data(this.element,"scalar-x"),scalarY:a.data(this.element,"scalar-y"),frictionX:a.data(this.element,"friction-x"),frictionY:a.data(this.element,"friction-y"),originX:a.data(this.element,"origin-x"),originY:a.data(this.element,"origin-y"),pointerEvents:a.data(this.element,"pointer-events"),precision:a.data(this.element,"precision"),relativeInput:a.data(this.element,"relative-input"),clipRelativeInput:a.data(this.element,"clip-relative-input"),hoverOnly:a.data(this.element,"hover-only"),inputElement:document.querySelector(a.data(this.element,"input-element")),selector:a.data(this.element,"selector")};for(var o in n)null===n[o]&&delete n[o];s(this,r,n,i),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return n(e,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=a.transformSupport("2D"),this.transform3DSupport=a.transformSupport("3D")),this.transform3DSupport&&a.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var e=0;e<this.layers.length;e++){var t=this.layers[e];this.transform3DSupport&&a.accelerate(t),t.style.position=e?"absolute":"relative",t.style.display="block",t.style.left=0,t.style.top=0;var i=a.data(t,"depth")||0;this.depthsX.push(a.data(t,"depth-x")||i),this.depthsY.push(a.data(t,"depth-y")||i)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(e){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,e)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=o(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),o.cancel(this.raf))}},{key:"calibrate",value:function(e,t){this.calibrateX=void 0===e?this.calibrateX:e,this.calibrateY=void 0===t?this.calibrateY:t}},{key:"invert",value:function(e,t){this.invertX=void 0===e?this.invertX:e,this.invertY=void 0===t?this.invertY:t}},{key:"friction",value:function(e,t){this.frictionX=void 0===e?this.frictionX:e,this.frictionY=void 0===t?this.frictionY:t}},{key:"scalar",value:function(e,t){this.scalarX=void 0===e?this.scalarX:e,this.scalarY=void 0===t?this.scalarY:t}},{key:"limit",value:function(e,t){this.limitX=void 0===e?this.limitX:e,this.limitY=void 0===t?this.limitY:t}},{key:"origin",value:function(e,t){this.originX=void 0===e?this.originX:e,this.originY=void 0===t?this.originY:t}},{key:"setInputElement",value:function(e){this.inputElement=e,this.updateDimensions()}},{key:"setPosition",value:function(e,t,i){t=t.toFixed(this.precision)+"px",i=i.toFixed(this.precision)+"px",this.transform3DSupport?a.css(e,"transform","translate3d("+t+","+i+",0)"):this.transform2DSupport?a.css(e,"transform","translate("+t+","+i+")"):(e.style.left=t,e.style.top=i)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var e=this.inputX-this.calibrationX,t=this.inputY-this.calibrationY;(Math.abs(e)>this.calibrationThreshold||Math.abs(t)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?t:this.inputY,this.motionY=this.calibrateY?e:this.inputX):(this.motionX=this.calibrateX?e:this.inputX,this.motionY=this.calibrateY?t:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=a.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=a.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var i=0;i<this.layers.length;i++){var n=this.layers[i],s=this.depthsX[i],r=this.depthsY[i],l=this.velocityX*(s*(this.invertX?-1:1)),c=this.velocityY*(r*(this.invertY?-1:1));this.setPosition(n,l,c)}this.raf=o(this.onAnimationFrame)}},{key:"rotate",value:function(e,t){var i=(e||0)/30,n=(t||0)/30,o=this.windowHeight>this.windowWidth;this.portrait!==o&&(this.portrait=o,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=i,this.calibrationY=n),this.inputX=i,this.inputY=n}},{key:"onDeviceOrientation",value:function(e){var t=e.beta,i=e.gamma;null!==t&&null!==i&&(this.orientationStatus=1,this.rotate(t,i))}},{key:"onDeviceMotion",value:function(e){var t=e.rotationRate.beta,i=e.rotationRate.gamma;null!==t&&null!==i&&(this.motionStatus=1,this.rotate(t,i))}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;if(this.hoverOnly&&(t<this.elementPositionX||t>this.elementPositionX+this.elementWidth||i<this.elementPositionY||i>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.elementPositionX),t=Math.min(t,this.elementPositionX+this.elementWidth),i=Math.max(i,this.elementPositionY),i=Math.min(i,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(t-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(i-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(t-this.windowCenterX)/this.windowRadiusX,this.inputY=(i-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var e=0;e<this.layers.length;e++)this.layers[e].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),e}();t.exports=l},{"object-assign":1,raf:4}]},{},[5])(5)}),document.addEventListener("DOMContentLoaded",()=>{var e=$(".video-full");$(".video1").on("click",function(){e.fadeOut(),$("video")[0].play()})}),document.addEventListener("DOMContentLoaded",()=>{new Swiper(".js-g-slider",{slidesPerView:1,centeredSlides:!0,speed:650,pagination:{el:".g-slider__dots",clickable:!0},navigation:{nextEl:".g-slider__arr._next",prevEl:".g-slider__arr._prev"},breakpoints:{767:{spaceBetween:10},1279:{spaceBetween:34},1600:{spaceBetween:50},3000:{spaceBetween:60}}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".js-schedule-more"),t=document.querySelector(".js-schedule-list");e&&e.addEventListener("click",i=>{i.preventDefault(),e.style.display="none",t.classList.remove("_hidden")})}),document.addEventListener("DOMContentLoaded",()=>{new Swiper(".js-action-slider",{observer:!0,observeParents:!0,spaceBetween:30,speed:650,loop:!0,navigation:{nextEl:".action__other-arrow_right",prevEl:".action__other-arrow_left"},breakpoints:{3000:{slidesPerView:3},1279:{slidesPerView:2},767:{slidesPerView:1}}}),new Swiper(".js-reviews-slider",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:30,speed:650,pagination:{el:".franchise-reviews__dots",clickable:!0},navigation:{nextEl:".franchise-reviews__controls-right",prevEl:".franchise-reviews__controls-left"}}),function(){const e=document.querySelector(".price"),t=document.querySelectorAll(".price-card");window.innerWidth>1279?0!=t.length&&t.length>4?new Swiper(".price__list-slider",{spaceBetween:0,slidesPerView:"auto",speed:650,navigation:{nextEl:".price__arrows .arr._next",prevEl:".price__arrows .arr._prev"}}):0!=t.length&&e.classList.add("no-slider"):new Swiper(".price__list-slider",{spaceBetween:0,slidesPerView:"auto",speed:650,navigation:{nextEl:".price__arrows .arr._next",prevEl:".price__arrows .arr._prev"}})}(),function(){if(!document.querySelector(".price"))return!1;const e=document.querySelector(".price__checkbox-wrapper input"),t=document.querySelectorAll(".price-card__table-line");e.addEventListener("change",()=>{e.checked?t.forEach(e=>e.classList.add("active")):t.forEach(e=>e.classList.remove("active"))})}()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".player__head"),t=document.querySelector(".player__body"),i=document.querySelector(".player__body._1"),n=document.querySelector(".player__hand"),o=document.querySelector(".player__leg"),s=document.querySelector(".player__leg._1"),a=document.querySelector(".player__leg._2"),r=document.querySelector(".player");let l=document.querySelectorAll(".game__fields-item");const c=document.querySelectorAll(".game__fields-col"),d=document.querySelectorAll(".game__treasure"),u=document.querySelector(".js-restart-popup"),h=document.querySelectorAll(".js-success-popup"),m=document.querySelectorAll(".js-restart-game ");if(!r)return;let p,f=!1;function g(l){f=!0;const c=l.target,d=c.getBoundingClientRect(),h=r.getBoundingClientRect(),m=h.left+h.width/2,g=h.top+h.height,w=d.left+d.width/2.5-m,b=d.top+d.height-h.height/2-g;gsap.timeline({defaults:{duration:.3,ease:"power2.inOut"}}).to(e,{rotation:12,xPercent:40,yPercent:13}).to(t,{opacity:0,rotation:30},"-=0.3").to(i,{opacity:1,xPercent:0,rotation:0},"-=0.3").to(n,{rotation:55,xPercent:30,yPercent:-10},"-=0.3").to(o,{opacity:0},"-=0.3").to(s,{opacity:1},"-=0.3").to(r,{yPercent:10},"-=0.3"),setTimeout(()=>{!function(){const l=gsap.timeline({defaults:{duration:.3,ease:"power2.inOut"}});gsap.to(r,{yPercent:-30,duration:.35,ease:"power2.out",onComplete:function(){gsap.to(r,{yPercent:0,duration:.35,ease:"power2.in"})}}),l.to(e,{rotation:0,xPercent:0,yPercent:0}).to(t,{opacity:1,rotation:0},"-=0.3").to(i,{opacity:0,rotation:-20},"-=0.3").to(n,{rotation:-110,yPercent:-48,xPercent:90},"-=0.3").to(s,{opacity:0},"-=0.3").to(a,{opacity:1},"-=0.3").to(n,{rotation:0,yPercent:0,xPercent:0},"+=0.3").to(o,{opacity:1},"-=0.3").to(a,{opacity:0},"-=0.3")}(),setTimeout(()=>{gsap.set([e,t,n,o],{clearProps:"all"})},1e3)},500),p&&p.classList.add("_animated"),p=c,gsap.to(r,{x:`+=${w}`,y:`+=${b}`,duration:.5,delay:.5,ease:"power2.inOut",onComplete:()=>{if(void 0!==c.dataset.fake){c.classList.add("_fail"),gsap.to(r,{yPercent:50,opacity:0,duration:.5,ease:"power2.out"});const e=setTimeout(()=>{u.classList.add("_visible"),v(),y(!1),f=!1,clearTimeout(e)},500);return}Array.from(c.parentNode.children).forEach(e=>{void 0!==e.dataset.fake&&e.classList.add("_fail")});const e=setTimeout(()=>{y(),f=!1,clearTimeout(e)},500)}})}function v(){p=null,l.forEach(e=>{e.classList.remove("_fail"),e.removeAttribute("data-fake"),e.classList.remove("_animated")}),d.forEach(e=>{e.classList.remove("_opened")}),gsap.to(r,{yPercent:0,xPercent:0,x:0,y:0,opacity:1,duration:.4,ease:"power2.out"}),w()}function y(e=!0){let t=-1;c.forEach((e,i)=>{e.classList.contains("_active")&&(t=i,e.classList.remove("_active"))}),t=e?(t+1)%c.length:0,c[t].classList.add("_active")}function w(){c.forEach(e=>{const t=e.querySelectorAll(".game__fields-item"),i=Math.floor(Math.random()*t.length);t.forEach((e,t)=>{t===i?e.setAttribute("data-fake","true"):e.removeAttribute("data-fake")})})}w(),l.forEach(e=>{e.addEventListener("click",function(t){f||(g(t),p=e)})}),d.forEach(e=>{e.addEventListener("click",function(){this.classList.add("_opened");const e=Math.floor(Math.random()*h.length);h.forEach((t,i)=>{i===e&&t.classList.add("_visible")})})}),m.forEach(e=>{e.addEventListener("click",function(){h.forEach(e=>{e.classList.remove("_visible"),v(),y(!1)})})})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".app")&&(gsap.registerPlugin(ScrollTrigger),gsap.fromTo(".app__pic-img",{opacity:0,xPercent:-70},{opacity:1,xPercent:0,scrollTrigger:{trigger:".app",start:"center 90%",toggleActions:"play none none reverse"}}),gsap.fromTo(".js-app-reveal",{opacity:0,xPercent:-6},{opacity:1,xPercent:0,scrollTrigger:{trigger:".app",start:"top 60%",toggleActions:"play none none reverse"},stagger:.12}))});var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){function e(e,t,i){var n=this;this.endVal=t,this.options=i,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){n.startTime||(n.startTime=e);var t=e-n.startTime;n.remaining=n.duration-t,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(t,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(t,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(t/n.duration);var i=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=i?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),t<n.duration?n.rAF=requestAnimationFrame(n.count):null!==n.finalEndVal?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(e){var t,i,o,s,a=e<0?"-":"";t=Math.abs(e).toFixed(n.options.decimalPlaces);var r=(t+="").split(".");if(i=r[0],o=r.length>1?n.options.decimal+r[1]:"",n.options.useGrouping){s="";for(var l=3,c=0,d=0,u=i.length;d<u;++d)n.options.useIndianSeparators&&4===d&&(l=2,c=1),0!==d&&c%l==0&&(s=n.options.separator+s),c++,s=i[u-d-1]+s;i=s}return n.options.numerals&&n.options.numerals.length&&(i=i.replace(/[0-9]/g,function(e){return n.options.numerals[+e]}),o=o.replace(/[0-9]/g,function(e){return n.options.numerals[+e]})),a+n.options.prefix+i+o+n.options.suffix},this.easeOutExpo=function(e,t,i,n){return i*(1-Math.pow(2,-10*e/n))*1024/1023+t},this.options=r(r({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(e){return e()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,i=e.el.getBoundingClientRect(),n=i.top+window.pageYOffset,o=i.top+i.height+window.pageYOffset;o<t&&o>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>o||n>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var i=this.countDown?1:-1;this.endVal=e+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var i=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,i):"INPUT"===this.el.tagName?this.el.value=i:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=i:this.el.innerHTML=i}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(max-width: 992px)").matches?(gsap.fromTo(".franchise-income__content-right",{opacity:0,xPercent:70},{opacity:1,xPercent:0,scrollTrigger:{trigger:".franchise-income",start:"top 35%",toggleActions:"play none none reverse"}}),gsap.fromTo(".franchise-join-us__lion",{opacity:0},{opacity:1,scrollTrigger:{trigger:".franchise-join-us__content",start:"top bottom",toggleActions:"play none none reverse"}})):(gsap.fromTo(".franchise-income__content-right",{opacity:0,xPercent:70},{opacity:1,xPercent:0,scrollTrigger:{trigger:".franchise-income",start:"center 90%",toggleActions:"play none none reverse"}}),gsap.fromTo(".franchise-join-us__lion",{opacity:0,xPercent:-20},{opacity:1,xPercent:0,scrollTrigger:{trigger:".franchise-join-us__content",start:"center bottom",toggleActions:"play none none reverse"}})),document.querySelectorAll("[data-num-wrapper]").forEach(e=>{const t=e.querySelectorAll("[data-num-end]"),i=gsap.timeline({scrollTrigger:{trigger:e,start:"bottom bottom"}});t.forEach(e=>{i.fromTo(e,{duration:.3,ease:"linear",opacity:0,x:-20},{opacity:1,x:0,onComplete:function(){console.log(e,"start");let t=+e.getAttribute("data-num-end"),i=new l(e,t,{duration:.8,separator:" "});i.error?console.error(i.error):i.start()}})})})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".js-accordion").forEach(e=>{const t=e.querySelector(".js-accordion__intro"),i=e.querySelector(".js-accordion__content");console.log("accordions"),t.onclick=(()=>{console.log("intro.onclick"),i.style.maxHeight?(e=>{const t=e.querySelector(".js-accordion__content");e.classList.remove("accordion__active"),t.style.maxHeight=null})(e):(e=>{const t=e.querySelector(".js-accordion__content");e.classList.add("accordion__active"),t.style.maxHeight=t.scrollHeight+"px"})(e)})})})}();
//# sourceMappingURL=main.js.map